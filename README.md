# 一、简述HTTPS获取加密密钥的过程
HTTPS就是加入了SSL的HTTP。而SSL协议位于TCP/IP协议与各种应用层协议之间，为数据通讯提供安全支持。在了解清楚HTTPS获取加密密钥的过程，就得先知道对称加密和非对称加密。按照我的理解，对称加密就是通信双方彼此熟悉、信任，事先约定了如何加解密。那如果彼此不认识，那就没法约定加密算法和密钥了，所以就有了非对称加密。而我们现在HTTPS获取加密密钥的过程就是非对称加密，具体过程如下：
- 客户端发出https请求服务器443端口
- 服务器响应公钥
- 客户端生成一个随机数(加密字符串)，然后用服务器返回的公钥进行加密
- 服务器拿到加密过的信息，用自己的私密进行解密，拿到了客户端的随机数。此时，服务器用此随机数加密数据，响应给客户端
- 客户端获取响应后，用本地保存的加密字符串对数据进行解密，就拿到了真正的数据


在服务器响应公钥的过程中，有可能被伪造，就需要进行标识，以确定是自己请求的服务器。而这个标识就是签名，目前最权威的就是CA。客户端在拿到签名后，要对签名进行校验，以验证是否有效包括过期。如果无效，就会给出警告，用户可以选择终止此次请求。

此过程，可以做一个很简单的类比，就是服务器会给客户端一把锁(公钥)，客户端可以锁任何东西，然后传递给服务器。而只有服务器有钥匙(私钥)可以解开这把锁，拿到锁住的东西。就算其他人拿到了这个被锁住的东西，也无力打开拿到。这个过程就是非对称加密，客户端事先不知道任何用于加解密的东西，都是服务器提供的。

# 二、事件循环
首先得明确一点，JS就是<strong>单线程</strong>的，就算加了多少新特性或者语法糖，也改变不了这个事实。而JS在执行的时候，是按照从上到下的顺序依次执行的。如果全是同步的话，那遇到比较耗时的操作，就会阻碍后续的代码执行。所以为了解决这个问题，JS加入了事件循环，即EVENT LOOP来解决此问题，具体过程如下：

JS把执行的业务分为同步任务和异步任务。
- 所有同步任务都在主线程中执行，而在内存中会有开辟一块区域，我们称作"执行栈"，来执行它们。
- 而所有异步任务执行的会注册一个回调，待到异步任务了有了结果，就会放置到一个任务队列中。
- 一旦"执行栈"中的所有同步任务执行完毕，系统就会读取"任务队列"，检查是否有需要执行的事件。此时，异步任务结束等待状态，回到主线程中执行。


